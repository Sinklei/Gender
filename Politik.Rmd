---
title: "Politik"
author: "Kevin"
date: "7/26/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)


# datensätze einlesen und cleanen/ordnen

bt_frauen <- read.csv("data/to_work_with/bundestagzusammensetzung.csv") %>% 
                mutate(maenner_anzahl = (mitglieder-frauen_anzahl),
                       maenner_perc = (100-frauen_perc))

bt <- bt_frauen[c(1,2,3,7,6,4,5)]

view(parteien_frauen)




parteien_frauen <- read.csv("data/to_work_with/zusammensetzung_frauen_parteien.csv")

```
was wäre cool zu visualisieren?
wie sich das im laufe der zeit verändert hat? mit den bundestagen an sich?
verteilung dann von männern und frauen zeigen

verteilung innerhalb der parteien zeigen und wie sich diese im laufe der zeit verändert haben.

größe der parteien??




# Infotext

Statista. geschlechtliche Ungerechtigkeit in der Bundestagszusammensetzung etc.
googlen nach allgemeinem Meinungsbild zu Männer und Frauen Verteilung in der Politik


# seats in parliament

vielleicht karte zeigen mit allen ländern

Hintergrundinfos:
Proportion of seats held by women in national parliaments (%)(SG.GEN.PARL.ZS)
Definition: Women in parliaments are the percentage of parliamentary seats in a single or lower chamber held by women.
Quelle: Inter-Parliamentary Union (IPU) (www.ipu.org). For the year of 1998, the data is as of August 10, 1998.
aggregation method: Weighted average

meine Quelle: https://databank.worldbank.org/source/gender-statistics

könnte auch mit Bildung zusammenhängen, dass für Frauen nicht dieselben Voraussetzungen gelten wie für Männer





```{r}

before_clean_seats <- read.csv("data/raw/before_clean_seats_parliaments.csv", check.names = F)

library(dplyr)

seats <- before_clean_seats %>% 
            filter(country != "") %>% 
            pivot_longer(cols = -country, names_to = "year", values_to = "n") %>% 
            mutate_if(is.numeric, round)


###

seats %>% view()

seats %>% 
  filter(country %in% c("Germany", "Austria")) %>% 
  filter(year %in% 2010:2020) %>% 
  ggplot() +
  aes(x = year,
      y = n,
      color = country) +
  geom_point()


library(maps)

# Check all available geospatial objects:
# help(package='maps')

# Map of the world:
map('world',col="grey", fill=TRUE, bg="white", lwd=0.05, mar=rep(0,4),border=0, ylim=c(-80,80) )

map_data("world") %>% view()




```


# aktueller Bundestag

yeah



# Zusammensetzung Bundestag 

man kann zeigen, dass sich über die Zeit die Anzahl an Frauen im Bundestag erhöht hat
noch einzeichnen können:
* wahlperiode
* prozent der frauen, prozent der männer
* verteilung von frauen und männern?


wahlperiode komplett weg machen?? bzw wie am besten einsetzen?
mehrere geome in einen plot kriegen(vielleicht sogar zwei achsen.??)
wie kann ich das umsetzen, dass die daten nicht doppelt sind? ggf datensatz umbauen? mit hovern zum beispiel zusätzliche infos?

vor allen dingen auch verteilung gegenüber männer zeigen

zeitliche achse ist die y achse und geht von oben nach unten, so wie die website auch gestaltet ist
wichtig ist es zu zeigen, dass sich die anzahl und prozent an frauen über die jahre gesteigert hat, jedoch im vergleich zu den männern immer noch sehr klein ist


in eine grafik kriegen

* y achse bundestag in richtiger reihenfolge von oben nach unten
* frauen und männer anzahl
* vielleicht noch irgendwie prozente reinbringen
* gesamt mitgliederanzahl
* auf wahlperiode scheissen?? nur eine nehmen??


```{r}

bt %>%
  ggplot() +
  geom_point(mapping = aes(x = bundestag, y = frauen_anzahl, color = wahlperiode)) +
  geom_point(mapping = aes(x = bundestag, y = maenner_anzahl, color = wahlperiode)) +
  geom_point(mapping = aes(x = bundestag, y = mitglieder)) +
  coord_flip()
  NULL


bt %>% 
  ggplot() +
  aes(x = bundestag,
      y = frauen_perc) +
  geom_point() +
  coord_flip()
  
  


```

# Frauenanteil in den Parteien

parteimitglieder noch ergänzen?
jahre vielleicht ganz raus machen (datensatz erneuern, oder einfach commands nutzen?)
bundestag mit order (ordinale variable)
noch weitere daten dann suchen

sitzeverteilung der einzelnen bundestage vielleicht ergänzen


gibt es daten zu der anzahl der parteien und den anzahl der männer
missing values herausfindne können?

```{r}
parteien_frauen %>%
  ggplot() +
  aes(
    x = bundestag,
    y = frauen_zahl,
    color = partei
  ) +
  geom_point() +
  coord_flip()
  NULL


parteien_frauen %>%
  filter(jahr == "2017") %>% 
  ggplot() +
  aes(
    x = partei,
    y = frauen_zahl
  ) +
  geom_col() +
  NULL


```

